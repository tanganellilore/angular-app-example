"use strict";(self.webpackChunkangular_starter=self.webpackChunkangular_starter||[]).push([[8062],{7507:(y,C,s)=>{s.d(C,{_:()=>a});var t=s(7905),P=s(575),p=s(8568);class m{constructor(){this.query="",this.page=""}}var h=s(1571);class a{constructor(i){this.filter="",this.itemsPerPageDefault=5,this.searchField="",this.params=new m,this.itemsCount=0,this.itemsPage=1,this.itemsPerPage=4,this.query="",this.route=i.get(t.gz),this.router=i.get(t.F0),this.configService=i.get(P.E),this.itemsService=i.get(p.L),this.initialize()}initialize(){this.api=this.configService.config.api,this.url=this.configService.config.url+this.endpoint,this.readQueryParams()}readQueryParams(){this.route.queryParams.subscribe(i=>{this.params.query=i.q,void 0!==i.page&&(this.params.page=i.page,this.itemsPage=parseInt(this.params.page,10)),this.searchField=this.params.query,this.getItems()})}getItems(){this.loaded=!1,this.query=this.searchField,void 0!==this.endpoint&&this.itemsService.getItemsCount(this.api,this.url,this.query).subscribe(i=>{this.itemsCount=i.count,this.itemsPerPage<1&&(this.itemsPerPage=this.itemsPerPageDefault);const o=this.itemsPage,r=Math.ceil(this.itemsCount/this.itemsPerPage);o>=r&&(this.itemsPage=r),this.itemsService.getItems(this.api,this.url,this.itemsPerPage,this.itemsPage,this.query).subscribe(l=>{this.items=l,this.loaded=!0})})}writeQueryParams(){let i=this.searchField;(""===i||void 0===i)&&(i="");const o="/"+this.linkRoute;let r="";this.itemsPage>1&&(r=this.itemsPage.toString()),this.params.query=i,this.params.page=r,this.router.navigate(["crud/"+o],{queryParams:this.params})}search(){this.query=this.searchField,this.writeQueryParams(),this.getItems()}changePage(i){this.itemsPage=i,this.writeQueryParams(),this.getItems()}selectItem(i){this.router.navigate(["/crud/"+this.link,i])}onChangePage(i){this.changePage(i)}onSearch(i){this.searchField=i,this.search()}}a.\u0275fac=function(i){return new(i||a)(h.Y36(h.zs3))},a.\u0275cmp=h.Xpm({type:a,selectors:[["app-page-list"]],decls:0,vars:0,template:function(i,o){}})},341:(y,C,s)=>{s.d(C,{Q:()=>d});var t=s(1571);class P{}class p{range(u,e,_){null==e&&(e=u||0,u=0),_||(_=e<u?-1:1);const g=Math.max(Math.ceil((e-u)/_),0),x=Array(g);for(let v=0;v<g;v++,u+=_)x[v]=u;return x}getPagination(u,e,_){const g=Math.ceil(u/_);let x,v;e<1&&(e=1),e>g&&(e=1),g<=7?(x=1,v=g):e<=7?(x=1,v=7):e+1>=g?(x=g-7+1,v=g,e<x&&(x=e+1,v=e+1)):(v=e,x=v-7+1);const E=this.range(x,v+1,1);let M=!1;g>7&&(M=!0);const T=new P;return T.pages=E,T.browser=M,T.total=g,T.current=e,T.perPage=_,T}}p.\u0275fac=function(u){return new(u||p)},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"});var m=s(6895);const h=function(n){return{disabled:n}};function a(n,u){if(1&n){const e=t.EpF();t.TgZ(0,"li",5)(1,"a",6),t.NdJ("click",function(){t.CHM(e);const g=t.oxw(2);return t.KtG(g.selectPage(1))}),t._uU(2,"\xab"),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,h,1===e.pagination.current))}}function c(n,u){if(1&n){const e=t.EpF();t.TgZ(0,"li",5)(1,"a",7),t.NdJ("click",function(){t.CHM(e);const g=t.oxw(2);return t.KtG(g.selectPage(g.pagination.current-1))}),t._uU(2,"\u2039"),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,h,1===e.pagination.current))}}const i=function(n){return{active:n}};function o(n,u){if(1&n){const e=t.EpF();t.TgZ(0,"li",5)(1,"a",7),t.NdJ("click",function(){const x=t.CHM(e).$implicit,v=t.oxw(2);return t.KtG(v.selectPage(x))}),t._uU(2),t.qZA()()}if(2&n){const e=u.$implicit,_=t.oxw(2);t.Q6J("ngClass",t.VKq(2,i,_.pagination.current===e)),t.xp6(2),t.Oqu(e)}}function r(n,u){if(1&n){const e=t.EpF();t.TgZ(0,"li",5)(1,"a",7),t.NdJ("click",function(){t.CHM(e);const g=t.oxw(2);return t.KtG(g.selectPage(g.pagination.current+1))}),t._uU(2,"\u203a"),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,h,e.pagination.current===e.pagination.total))}}function l(n,u){if(1&n){const e=t.EpF();t.TgZ(0,"li",5)(1,"a",7),t.NdJ("click",function(){t.CHM(e);const g=t.oxw(2);return t.KtG(g.selectPage(g.pagination.total))}),t._uU(2,"\xbb"),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,h,e.pagination.current===e.pagination.total))}}function f(n,u){if(1&n&&(t.TgZ(0,"nav",1)(1,"ul",2),t.YNc(2,a,3,3,"li",3),t.YNc(3,c,3,3,"li",3),t.YNc(4,o,3,4,"li",4),t.YNc(5,r,3,3,"li",3),t.YNc(6,l,3,3,"li",3),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.pagination.browser),t.xp6(1),t.Q6J("ngIf",e.pagination.browser),t.xp6(1),t.Q6J("ngForOf",e.pagination.pages),t.xp6(1),t.Q6J("ngIf",e.pagination.browser),t.xp6(1),t.Q6J("ngIf",e.pagination.browser)}}class d{constructor(u){this.paginationService=u,this.changePage=new t.vpe,this.pagination=new P}ngOnChanges(){this.pagination.count=this.count,this.pagination.perPage=this.perPage,this.pagination.page=this.page,this.pagination=this.paginationService.getPagination(this.pagination.count,this.pagination.page,this.pagination.perPage)}selectPage(u){this.changePage.emit(u)}}d.\u0275fac=function(u){return new(u||d)(t.Y36(p))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-pagination"]],inputs:{count:"count",page:"page",perPage:"perPage"},outputs:{changePage:"changePage"},features:[t.TTD],decls:1,vars:1,consts:[["aria-label","pagination",4,"ngIf"],["aria-label","pagination"],[1,"pagination","d-flex","justify-content-center","pagination-sm"],["class","page-item",3,"ngClass",4,"ngIf"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link","waves-effect","waves-effect",3,"click"],[1,"page-link",3,"click"]],template:function(u,e){1&u&&t.YNc(0,f,7,5,"nav",0),2&u&&t.Q6J("ngIf",e.pagination.pages&&e.pagination.pages.length)},dependencies:[m.mk,m.sg,m.O5]})},3226:(y,C,s)=>{s.d(C,{u:()=>a});var t=s(6895),P=s(7905),p=s(1571);class h{}h.\u0275fac=function(i){return new(i||h)},h.\u0275mod=p.oAB({type:h}),h.\u0275inj=p.cJS({imports:[P.Bz.forChild([]),P.Bz]});class a{}a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=p.oAB({type:a}),a.\u0275inj=p.cJS({imports:[t.ez,h]})},2329:(y,C,s)=>{s.d(C,{N:()=>m});var t=s(1571),P=s(433);const p=["edit"];class m{constructor(){this.search=new t.vpe}searching(){this.search.emit(this.edit.nativeElement.value)}}m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-search-bar"]],viewQuery:function(a,c){if(1&a&&t.Gf(p,5),2&a){let i;t.iGM(i=t.CRH())&&(c.edit=i.first)}},inputs:{searchField:"searchField",placeholder:"placeholder",results:"results",itemsCount:"itemsCount",icon:"icon"},outputs:{search:"search"},decls:18,vars:4,consts:[[1,"row"],[1,"col"],[1,"ml-4"],[1,"d-flex","pt-2"],[1,"d-flex","me-auto"],["type","text","name","searchField",1,"form-control","me-2",3,"ngModel","placeholder"],["edit",""],["type","button",1,"btn","btn-nga-primary","btn-sm","btn-nga",3,"click"],[1,"fa","fa-search"],[1,"d-flex","me-auto","d-none","d-md-block"],[1,"pt-2","ml-4"],[2,"color","gray"],[2,"color","#e0e0e0"]],template:function(a,c){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"strong"),t._uU(4,"Feature"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"input",5,6),t.TgZ(9,"button",7),t.NdJ("click",function(){return c.searching()}),t._UZ(10,"i",8),t.qZA()(),t.TgZ(11,"div",9)(12,"div",10)(13,"b")(14,"span",11),t._uU(15),t.qZA()(),t.TgZ(16,"span",12),t._uU(17,"( 0.432 ms )"),t.qZA()()()()()()),2&a&&(t.xp6(7),t.s9C("placeholder",c.placeholder),t.Q6J("ngModel",c.searchField),t.xp6(8),t.AsE("",c.itemsCount," ",c.results,""))},dependencies:[P.Fj,P.JJ,P.On],styles:[".btn-nga[_ngcontent-%COMP%]{box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f;padding:.5rem;font-size:.81rem;border:0;border-radius:.125rem}.btn-nga[_ngcontent-%COMP%]:hover, .btn-nga[_ngcontent-%COMP%]:active, .btn-nga[_ngcontent-%COMP%]:focus{box-shadow:0 5px 11px #0000002e,0 4px 15px #00000026;outline:0}.btn-nga-primary[_ngcontent-%COMP%]{border:2px solid #4285f4!important;color:#4285f4!important;background-color:transparent!important}"]})},7550:(y,C,s)=>{s.d(C,{B:()=>c});var t=s(6895),P=s(433),p=s(7905),m=s(1571);class a{}a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[p.Bz.forChild([]),p.Bz]});class c{}c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=m.oAB({type:c}),c.\u0275inj=m.cJS({imports:[t.ez,a,P.u5]})},7747:(y,C,s)=>{s.d(C,{B:()=>p});var t=s(1571),P=s(7905);class p{constructor(h){this.router=h}createItem(){this.router.navigate(["/crud/"+this.link,0])}}p.\u0275fac=function(h){return new(h||p)(t.Y36(P.F0))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-search-result"]],inputs:{searchField:"searchField",creation:"creation",found:"found",link:"link"},decls:20,vars:3,consts:[[1,"card","mb-4","text-center"],[1,"card-body"],["src","./assets/params/images/logo/dharma.png","height","70","width","70"],[1,"card-text","mt-3"],[1,"card-title","font-weight-bold","text-primary"],[1,"blockquote"],[1,"text-left","text-primary"],[1,"text-left"],[1,"text-left","text-info"],["type","button",1,"font-weight-bold","btn","btn-outline-info","btn-sm","mt-4",3,"click"],[1,"fas","fa-plus","fa-lg","mr-2"]],template:function(h,a){1&h&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"p",3),t._uU(4),t.qZA(),t.TgZ(5,"h6",4),t._uU(6),t.qZA(),t.TgZ(7,"blockquote",5)(8,"p",6),t._uU(9,"Suggestions"),t.qZA(),t.TgZ(10,"h6",7),t._uU(11,"Try other keywords"),t.qZA(),t.TgZ(12,"h6",7),t._uU(13,"Delete search filters"),t.qZA(),t._UZ(14,"hr"),t.TgZ(15,"h6",8),t._uU(16,"Create new Item"),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return a.createItem()}),t._UZ(18,"i",10),t._uU(19),t.qZA()()()()),2&h&&(t.xp6(4),t.hij("No ",a.found," matches the specified search terms"),t.xp6(2),t.hij(" ",a.searchField," "),t.xp6(13),t.hij("Create ",a.creation," "))},styles:[".card[_ngcontent-%COMP%]{display:block;background-color:#fffc;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;border-radius:2px;transition:all .2s ease-in-out;cursor:pointer}.card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b}blockquote[_ngcontent-%COMP%]{border-left:3px solid #4285F4;margin:10px;padding:10px 20px}"]})},5199:(y,C,s)=>{s.d(C,{p:()=>c});var t=s(6895),P=s(433),p=s(7905),m=s(1571);class a{}a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[p.Bz.forChild([]),p.Bz]});class c{}c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=m.oAB({type:c}),c.\u0275inj=m.cJS({imports:[t.ez,a,P.u5]})},8568:(y,C,s)=>{s.d(C,{L:()=>c});var t=s(529),P=s(9646),p=s(262),m=s(4004),h=s(1571);const a={headers:new t.WM({"Content-Type":"application/json"})};class c{constructor(o){this.http=o}filterJsonItem(o,r){let l=null;return o.map((f,d,n)=>{const u=parseInt(r,10);n[d].id===u&&(l=n[d])}),l}filterJsonItemsCount(o,r){let l=0;if(void 0!==r&&null!=r){const f=r.toString().toLowerCase();l=o.filter(n=>0===n.name.toLowerCase().indexOf(f)).length}else l=o.length;return{count:l}}filterJsonItems(o,r,l,f){let d;if(void 0!==r&&null!=r){const _=r.toString().toLowerCase();d=o.filter(g=>0===g.name.toLowerCase().indexOf(_))}else d=o;const n=l*(f-1),u=l*(f-1)+l-1,e=[];return d.map((_,g)=>{g>=n&&g<=u&&e.push(d[g])}),e}getItemsCount(o,r,l){let f="";void 0!==l&&""!==l&&null!==l&&(f="?q="+l);const d=(r+=o?"/count":".json")+f;let n;return n=o?this.http.get(d).pipe((0,p.K)(this.handleError("getItems",[]))):this.http.get(d).pipe((0,m.U)(u=>this.filterJsonItemsCount(u,l)),(0,p.K)(this.handleError("getItems",[]))),n}getItems(o,r,l,f,d){o||(r+=".json");let n="";if(void 0!==l||void 0!==f||void 0!==d){const _=l;let g;g=0,0===f&&(f=1),void 0!==f&&(g=(f-1)*l),void 0!==d&&""!==d&&null!==d&&(n="?q="+d),n=""!==n?n+"&limit="+_+"&offset="+g:"?limit="+_+"&offset="+g}const u=r+n;let e;return e=o?this.http.get(u).pipe((0,p.K)(this.handleError("getItems",[]))):this.http.get(u).pipe((0,m.U)(_=>this.filterJsonItems(_,d,l,f)),(0,p.K)(this.handleError("getItems",[]))),e}getItem(o,r,l){o||(r+=".json");let f={};return void 0!==l&&(f=o?this.http.get(r+"/"+l).pipe((0,p.K)(this.handleError(`getItem id=${l}`))):this.http.get(r).pipe((0,m.U)(n=>this.filterJsonItem(n,l)),(0,p.K)(this.handleError("getItems",[])))),f}addItem(o,r){const l=JSON.stringify(r);return this.http.post(o,l,a).pipe((0,p.K)(this.handleError("addItem")))}updateItem(o,r,l){return this.http.put(l+"/"+r,o,a).pipe((0,p.K)(this.handleError("updateItem")))}deleteItem(o,r){return this.http.delete(o+"/"+r,a).pipe((0,p.K)(this.handleError("deleteItem")))}handleError(o="operation",r){return l=>(console.error(`${o} failed: ${l.message}`),(0,P.of)(r))}}c.\u0275fac=function(o){return new(o||c)(h.LFG(t.eN))},c.\u0275prov=h.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}}]);